# Проект "Микрофронтенд" (Vite + React + TypeScript + MobX + MVVM)

Этот проект демонстрирует архитектуру микрофронтендов, используя Vite в качестве сборщика, React для пользовательского интерфейса, TypeScript для строгой типизации, MobX для управления состоянием и паттерн MVVM для организации кода.

## Архитектура Проекта

Проект состоит из одного хост-приложения и трех независимых микрофронтендов:

-   **`host` (Хост-приложение)**: Основное приложение, которое загружает и отображает микрофронтенды. Отвечает за общую маршрутизацию и навигацию.
-   **`user-info-mf` (Микрофронтенд информации о пользователях)**: Отображает профиль пользователя и его полученные достижения. Позволяет редактировать имя пользователя.
-   **`achievements-list-mf` (Микрофронтенд списка достижений)**: Отображает полный список всех доступных достижений с их описаниями и условиями.
-   **`leaderboard-mf` (Микрофронтенд лидерборда)**: Отображает таблицу лидеров, отсортированных по количеству достижений.

Каждый микрофронтенд разрабатывается и развертывается независимо, используя `vite-plugin-federation` для обеспечения динамической загрузки и взаимодействия.

## Технологический Стек

-   **Vite**: Быстрый сборщик фронтенда.
-   **React**: Библиотека для создания пользовательских интерфейсов.
-   **TypeScript**: Строгая типизация для повышения надежности кода.
-   **MobX**: Простое и масштабируемое управление состоянием.
-   **MVVM (Model-View-ViewModel)**: Паттерн для разделения логики представления и бизнес-логики.
-   **Styled-components**: CSS-in-JS для стилизации компонентов.
-   **React Router Dom**: Для маршрутизации в хост-приложении.
-   **Vite Plugin Federation (@originjs/vite-plugin-federation)**: Для реализации Module Federation.

## Достижения (Achievements)

В приложении предусмотрены следующие достижения:

1.  **"Первый шаг"**: Зарегистрироваться в приложении. (Имитация)
2.  **"Исследователь"**: Просмотреть все доступные достижения.
3.  **"Собиратель"**: Получить 5 достижений. (Имитация)
4.  **"Ветеран"**: Получить 10 достижений. (Имитация)
5.  **"Абсолютный чемпион"**: Получить все доступные достижения. (Имитация)
6.  **"Социальная бабочка"**: Поделиться своим профилем. (Имитация)
7.  **"Перфекционист"**: Выполнить все условия одного достижения до конца. (Имитация)
8.  **"Ночной странник"**: Войти в приложение после полуночи. (Имитация)
9.  **"Ранняя пташка"**: Войти в приложение до 8 утра. (Имитация)
10. **"Постоянство - ключ"**: Заходить в приложение 7 дней подряд. (Имитация)
11. **"Мастер обратной связи"**: Оставить ценный отзыв о приложении. (Имитация)
12. **"Эрудит"**: Прочитать описание каждого достижения. (Имитация)

## Структура Проекта

```
microfront/
├── host/                     # Хост-приложение
│   ├── public/
│   ├── src/
│   │   ├── App.styles.ts
│   │   ├── App.tsx
│   │   ├── GlobalStyles.ts
│   │   ├── main.tsx
│   │   └── pages/
│   │       └── Home/
│   │           ├── Home.styles.ts
│   │           └── Home.tsx
│   ├── index.html
│   ├── package.json
│   ├── tsconfig.json
│   └── vite.config.ts
├── user-info-mf/             # Микрофронтенд информации о пользователях
│   ├── public/
│   ├── src/
│   │   ├── App.styles.ts
│   │   ├── GlobalStyles.ts
│   │   ├── main.tsx
│   │   ├── stores/
│   │   │   └── UserStore.ts
│   │   ├── types/
│   │   │   └── UserTypes.ts
│   │   ├── UserInfo.tsx
│   │   └── viewmodels/
│   │       └── UserInfoViewModel.ts
│   ├── index.html
│   ├── package.json
│   ├── tsconfig.json
│   └── vite.config.ts
├── achievements-list-mf/     # Микрофронтенд списка достижений
│   ├── public/
│   ├── src/
│   │   ├── AchievementsList.tsx
│   │   ├── App.styles.ts
│   │   ├── GlobalStyles.ts
│   │   ├── main.tsx
│   │   ├── stores/
│   │   │   └── AchievementsStore.ts
│   │   ├── types/
│   │   │   └── AchievementTypes.ts
│   │   └── viewmodels/
│   │       └── AchievementsListViewModel.ts
│   ├── index.html
│   ├── package.json
│   ├── tsconfig.json
│   └── vite.config.ts
└── leaderboard-mf/           # Микрофронтенд лидерборда
    ├── public/
    ├── src/
    │   ├── App.styles.ts
    │   ├── GlobalStyles.ts
    │   ├── Leaderboard.tsx
    │   ├── main.tsx
    │   ├── stores/
    │   │   └── LeaderboardStore.ts
    │   ├── types/
    │   │   └── LeaderboardTypes.ts
    │   └── viewmodels/
    │       └── LeaderboardViewModel.ts
    ├── index.html
    ├── package.json
    ├── tsconfig.json
    └── vite.config.ts
```

## Инструкции по Запуску

Для запуска проекта необходимо выполнить следующие шаги:

### 1. Клонирование репозитория (если применимо)

```bash
git clone <your-repository-url>
cd microfront
```

### 2. Установка зависимостей

Перейдите в каждую директорию микрофронтендов и хост-приложения и установите зависимости:

```bash
# Для хост-приложения
cd host
npm install

# Для микрофронтенда информации о пользователях
cd ../user-info-mf
npm install

# Для микрофронтенда списка достижений
cd ../achievements-list-mf
npm install

# Для микрофронтенда лидерборда
cd ../leaderboard-mf
npm install

# Вернуться в корневую директорию проекта
cd ..
```

### 3. Запуск микрофронтендов

**Важно:** Микрофронтенды должны быть запущены **перед** хост-приложением, так как хост будет пытаться загрузить их.

Откройте три отдельных терминала и в каждом из них запустите соответствующий микрофронтенд:

**Терминал 1: Запуск `user-info-mf`**

```bash
cd user-info-mf
npm run dev
# Будет доступен на http://localhost:3001
```

**Терминал 2: Запуск `achievements-list-mf`**

```bash
cd achievements-list-mf
npm run dev
# Будет доступен на http://localhost:3002
```

**Терминал 3: Запуск `leaderboard-mf`**

```bash
cd leaderboard-mf
npm run dev
# Будет доступен на http://localhost:3003
```

### 4. Запуск Хост-приложения

После того как все микрофронтенды запущены, запустите хост-приложение в новом терминале:

**Терминал 4: Запуск `host`**

```bash
cd host
npm run dev
# Будет доступен на http://localhost:3000
```

Теперь вы можете открыть `http://localhost:3000` в вашем браузере и взаимодействовать с приложением, которое будет динамически загружать микрофронтенды.

## JSDoc

Весь TypeScript код документирован с использованием JSDoc для повышения читаемости и облегчения понимания структуры и функциональности классов, интерфейсов и функций.

## Принципы Разработки

Проект следует следующим принципам:

-   **SOLID, KISS, DRY**: Принципы чистого кода для поддерживаемости и расширяемости.
-   **TypeScript**: Использование строгой типизации везде, где это возможно, избегая `any`.
-   **Styled-components**: Инкапсуляция стилей внутри компонентов в отдельных файлах `[ComponentName].styles.ts`.
-   **MVVM**: Четкое разделение ответственности между Model (Store), View (React-компоненты) и ViewModel.
-   **Доступность (Accessibility)**: Включение атрибутов `tabIndex`, `aria-label` и обработчиков `onKeyDown` для интерактивных элементов.
-   **Именование**: Использование полных, описательных имен для переменных, функций и классов.
-   **Ранние возвраты**: Для улучшения читаемости и уменьшения вложенности кода.

## Дальнейшие Шаги

-   Реализовать более сложную логику взаимодействия между микрофронтендами (например, через глобальный Event Bus или совместный MobX Store, загружаемый хостом).
-   Добавить авторизацию/аутентификацию.
-   Развернуть каждый микрофронтенд и хост-приложение на отдельных доменах/поддоменах.
-   Добавить тесты (например, с Playwright, как было предложено).
